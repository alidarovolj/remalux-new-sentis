# –û—Ç—á–µ—Ç –æ–± –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –û—à–∏–±–æ–∫ –ö–æ–º–ø–∏–ª—è—Ü–∏–∏

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–´ –í–°–ï –û–®–ò–ë–ö–ò –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –û—à–∏–±–∫–∏

### 1. ‚úÖ XRSimulationEnvironment –û—à–∏–±–∫–∞
**–§–∞–π–ª:** `Assets/Scripts/SceneSetupHelper.cs:35`  
**–û—à–∏–±–∫–∞:** `The type or namespace name 'XRSimulationEnvironment' could not be found`  

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `XRSimulationEnvironment` –Ω–∞ –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∞–º
- –°–æ–∑–¥–∞–ª –º–µ—Ç–æ–¥ `FindExistingSimulationEnvironment()` –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥
- –£–±—Ä–∞–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö Unity AR –ø–∞–∫–µ—Ç–æ–≤

```csharp
// –ë–´–õ–û:
var existingEnvironment = FindObjectOfType<XRSimulationEnvironment>();

// –°–¢–ê–õ–û:
GameObject existingEnvironment = FindExistingSimulationEnvironment();
```

### 2. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π mainCamera (–ü–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ)
**–§–∞–π–ª:** `Assets/Scripts/ARManagerInitializer2.cs:925`  
**–û—à–∏–±–∫–∞:** `A local or parameter named 'mainCamera' cannot be declared in this scope`  

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `mainCamera` –Ω–∞ `arMainCamera`
- –ò—Å–ø—Ä–∞–≤–∏–ª –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ –º–µ—Ç–æ–¥–µ `CreatePlaneForWallArea`

```csharp
// –ë–´–õ–û:
Camera mainCamera = Camera.main;

// –°–¢–ê–õ–û:
Camera arMainCamera = Camera.main;
```

### 3. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π mainCamera (–í—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ)
**–§–∞–π–ª:** `Assets/Scripts/ARManagerInitializer2.cs:2294`  
**–û—à–∏–±–∫–∞:** `A local or parameter named 'mainCamera' cannot be declared in this scope`  

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `mainCamera` –Ω–∞ `arMainCamera`  
- –ò—Å–ø—Ä–∞–≤–∏–ª –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ –º–µ—Ç–æ–¥–µ `UpdateOrCreatePlaneForWallArea`

```csharp
// –ë–´–õ–û:
Camera mainCamera = Camera.main;

// –°–¢–ê–õ–û:  
Camera arMainCamera = Camera.main;
```

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–ù–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

### WallSegmentation.cs
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `usingSimulation` –ø—Ä–∏—Å–≤–æ–µ–Ω–∞, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Å—Ç—Ä–æ–∫–∞ 2310)
- –ü–æ–ª—è `stableFrameCount`, `hasValidMask`, `debugMaskSavePath`, `lastValidMaskTime` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

### ARPlanePersistenceUI.cs  
- –ü–æ–ª–µ `minDistanceBetweenPlanes` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Å—Ç—Ä–æ–∫–∞ 29)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—é –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—á–∏—â–µ–Ω—ã –ø–æ–∑–∂–µ.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –°–≤–æ–¥–∫–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
1. `Assets/Scripts/SceneSetupHelper.cs` - —É–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç XRSimulationEnvironment
2. `Assets/Scripts/ARManagerInitializer2.cs` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö mainCamera

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå 3 –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚Üí ‚úÖ 0 –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- 5 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)
- –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ Unity

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Unity** –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** SceneSetupHelper –∏ AR –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π
3. **–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É** —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É –ø—Ä–æ–µ–∫—Ç–∞

---

**–°—Ç–∞—Ç—É—Å:** üü¢ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ 